.trail-view{padding:0}.trail-context{display:flex;align-items:center;gap:6px;padding:8px 12px;background:var(--background-secondary);border-bottom:1px solid var(--background-modifier-border);font-size:var(--font-ui-small);color:var(--text-muted)}.trail-context-icon{display:flex;color:var(--text-faint)}.trail-context-icon svg{width:14px;height:14px}.trail-context-text{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.trail-filter-badge{font-size:var(--font-ui-smaller);padding:1px 6px;border-radius:var(--radius-s);background:var(--background-modifier-hover);color:var(--text-faint)}.trail-content{padding:4px 0}.trail-section{margin:0}.trail-section-header{padding:6px 12px 6px 4px;gap:4px}.trail-section-header:hover{background:var(--nav-item-background-hover)}.trail-section-icon{display:flex;color:var(--text-faint);margin-right:2px}.trail-section-icon svg{width:14px;height:14px}.trail-section-title{font-weight:var(--font-semibold);font-size:var(--font-ui-small);color:var(--text-normal)}.trail-section-content{padding-left:8px}.trail-section.is-collapsed>.trail-section-content{display:none}.trail-section.is-collapsed>.trail-section-header>.collapse-icon{transform:rotate(-90deg)}.collapse-icon{transition:transform .1s ease-in-out}.trail-section .tree-item{margin:0}.trail-section .tree-item-self{display:flex;align-items:flex-start;gap:6px;padding:4px 12px 4px calc(8px + var(--indent-level, 0) * 16px);border-radius:var(--radius-s);cursor:pointer}.trail-section .tree-item-self:hover{background:var(--nav-item-background-hover)}.trail-section .tree-item-inner{flex:1;min-width:0;display:flex;flex-wrap:wrap;align-items:baseline;gap:4px 6px}.trail-section .tree-item-inner .internal-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.trail-relation-tag{font-size:var(--font-ui-smaller);font-weight:var(--font-medium);padding:1px 6px;border-radius:var(--radius-s);background:var(--tag-background);color:var(--tag-color);flex-shrink:0}.trail-relation-tag.is-implied{background:var(--background-modifier-border);color:var(--text-faint);font-style:italic}.trail-relation-tag.has-icon{display:flex;align-items:center;justify-content:center;padding:2px 4px}.trail-relation-tag svg{width:12px;height:12px}.trail-property-badges{display:flex;flex-wrap:wrap;align-items:center;gap:4px}.trail-property-badge{font-size:var(--font-ui-smaller);padding:1px 6px;border-radius:var(--radius-s);background:var(--background-secondary);color:var(--text-muted);border:1px solid var(--background-modifier-border)}.trail-section .internal-link{color:var(--link-color);text-decoration:none;cursor:pointer}.trail-section .internal-link:hover{color:var(--link-color-hover);text-decoration:underline}.trail-no-results{padding:8px 12px;color:var(--text-faint);font-size:var(--font-ui-small);font-style:italic}.trail-empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:var(--text-faint)}.trail-empty-icon{margin-bottom:12px;color:var(--text-faint)}.trail-empty-icon svg{width:48px;height:48px;stroke-width:1px}.trail-empty-title{font-size:var(--font-ui-medium);font-weight:var(--font-semibold);color:var(--text-muted);margin-bottom:4px}.trail-empty-description{font-size:var(--font-ui-small);color:var(--text-faint)}.trail-gap-indicator{padding:2px 12px 2px calc(8px + var(--indent-level, 0) * 16px);color:var(--text-faint);font-size:var(--font-ui-smaller);font-style:italic}.trail-error{padding:8px 12px;color:var(--text-error);font-size:var(--font-ui-small);background:rgba(var(--color-red-rgb),.1);border-radius:var(--radius-s);margin:4px 8px}.trail-hidden{display:none!important}.trail-group{margin:4px 4px 4px calc(4px + var(--group-depth, 0) * 16px);border:1px solid var(--background-modifier-border);border-radius:var(--radius-s);background:var(--background-primary)}.trail-group-subgroups .trail-group{background:var(--background-primary-alt)}.trail-group-subgroups .trail-group-subgroups .trail-group{background:var(--background-primary)}.trail-group-label{font-size:var(--font-ui-smaller);color:var(--text-muted);font-style:italic}.trail-group-members{display:flex;flex-wrap:wrap;gap:4px 8px;padding:4px 8px;align-items:center;background:rgba(var(--interactive-accent-rgb),.03);border-radius:var(--radius-s);font-size:var(--font-ui-small)}.trail-group-members:not(:last-child){border-radius:var(--radius-s) var(--radius-s) 0 0;border-bottom:1px solid var(--background-modifier-border)}.trail-group-member{display:flex;align-items:baseline;gap:4px;padding:1px 4px;border-radius:var(--radius-s);transition:background .1s ease}.trail-group-member:hover{background:var(--background-modifier-hover)}.trail-group-member .internal-link{color:var(--link-color);text-decoration:none;cursor:pointer}.trail-group-member .internal-link:hover{color:var(--link-color-hover);text-decoration:underline}.trail-group-subgroups{padding:4px 4px 4px 12px;margin-left:8px;border-left:2px solid var(--background-modifier-border);position:relative}.trail-group-subgroups:before{content:"";position:absolute;left:-2px;top:16px;width:10px;height:2px;background:var(--background-modifier-border)}.trail-group-member .trail-property-badges{margin-left:4px}.trail-group-member .trail-property-badge{font-size:10px;padding:0 4px}.trail-settings{--trail-border: var(--background-modifier-border);--trail-bg-hover: var(--background-modifier-hover);--trail-radius: 8px}.trail-settings-tabs{display:flex;gap:4px;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid var(--background-modifier-border)}.trail-settings-tab{padding:8px 16px;font-size:var(--font-ui-medium);font-weight:var(--font-medium);color:var(--text-muted);cursor:pointer;border-radius:var(--radius-s);transition:color .15s ease,background-color .15s ease;user-select:none}.trail-settings-tab:hover{color:var(--text-normal);background:var(--background-modifier-hover)}.trail-settings-tab.is-active{background:var(--interactive-accent);color:var(--text-on-accent)}.trail-settings-content .setting-item-heading .setting-item-name{font-size:var(--font-ui-large);font-weight:var(--font-semibold)}.trail-relation-section{margin:12px 0;border:1px solid var(--trail-border);border-radius:var(--trail-radius);background:var(--background-primary);overflow:hidden}.trail-relation-section[open]{background:var(--background-primary-alt)}.trail-relation-summary{display:flex;align-items:stretch;cursor:pointer;list-style:none;user-select:none}.trail-relation-summary::-webkit-details-marker{display:none}.trail-relation-summary:hover{background:var(--trail-bg-hover)}.trail-relation-summary-content{display:flex;align-items:center;gap:12px;flex:1;padding:12px 16px;justify-content:space-between}.trail-relation-name{font-weight:var(--font-semibold)}.trail-relation-name-empty{color:var(--text-muted);font-style:italic}.trail-relation-badges{display:flex;gap:8px}.trail-badge{font-size:.75em;padding:2px 8px;border-radius:12px;background:var(--background-modifier-border);color:var(--text-muted)}.trail-badge-disabled{background:var(--background-modifier-border);color:var(--text-faint)}.trail-relation-content{padding:0 16px 16px;border-top:1px solid var(--trail-border)}.trail-relation-content>.setting-item:first-child{padding-top:16px}.trail-items-list{margin:0 0 4px;padding-left:16px}.trail-items-list .setting-item{padding:4px 0;border-top:none}.trail-items-list .trail-empty-state{display:block;padding:4px 0;text-align:left;color:var(--text-faint);font-style:italic;font-size:var(--font-ui-small);margin:0}.trail-subsection{margin:16px 0;padding:12px;background:var(--background-primary);border-radius:var(--trail-radius);border:1px solid var(--trail-border)}.trail-subsection-title{margin:0 0 4px;font-size:.9em;font-weight:600;color:var(--text-normal)}.trail-subsection-desc{margin:0 0 12px;font-size:.8em;color:var(--text-muted)}.trail-empty-state-settings{color:var(--text-faint);font-style:italic;font-size:.85em;margin:8px 0}.trail-hint{color:var(--text-faint);font-size:.8em;margin:8px 0}.trail-subsection .setting-item{padding:8px 0;border-top:none}.trail-subsection .setting-item:first-child{padding-top:0}.trail-subsection .setting-item-info{padding-top:8px;padding-left:12px}.trail-subsection .setting-item:last-child{padding-bottom:0}.trail-subsection .trail-empty-state{display:block;padding:8px 0;text-align:left;color:var(--text-faint);font-style:italic;font-size:var(--font-ui-small)}.trail-drag-handle{order:-1;display:flex;align-items:center;justify-content:center;width:24px;flex-shrink:0;color:var(--text-faint);cursor:grab;transition:color .1s ease,background-color .1s ease}.trail-drag-handle:hover{color:var(--text-muted);background:var(--background-modifier-hover)}.trail-drag-handle:active{cursor:grabbing}.trail-drag-handle svg{width:14px;height:14px}.trail-relation-section[data-dragging=true]{opacity:.5}.trail-relation-section.trail-drag-over{border-color:var(--interactive-accent);box-shadow:0 0 0 1px var(--interactive-accent)}.trail-migration-banner{margin:12px 0;padding:12px 16px;border-radius:var(--radius-m);background:rgba(var(--color-orange-rgb),.1);border:1px solid rgba(var(--color-orange-rgb),.3)}.trail-migration-banner .setting-item{border:none;padding:0}.trail-migration-banner .setting-item-name{color:var(--text-warning)}.trail-legacy-groups{margin-top:24px;padding-top:16px;border-top:1px solid var(--background-modifier-border)}.trail-legacy-group-item{margin:8px 0;padding:12px;border-radius:var(--radius-m);background:var(--background-secondary);border:1px solid var(--background-modifier-border)}.trail-legacy-group-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.trail-legacy-group-name{font-weight:600}.trail-legacy-group-actions{display:flex;gap:8px}.trail-legacy-preview{margin-top:8px}.trail-legacy-preview-content{margin-top:8px;padding:8px 12px;border-radius:var(--radius-s);background:var(--background-primary);font-family:var(--font-monospace);font-size:var(--font-ui-small);white-space:pre-wrap;overflow-x:auto}.trail-legacy-preview-content pre{margin:0}.trail-visual-relations{margin-bottom:var(--size-4-2)}.trail-visual-relation{margin-bottom:var(--size-4-1)}.trail-visual-relation .setting-item{padding:var(--size-4-1) 0;border:none}.trail-visual-relation .setting-item-control{gap:var(--size-4-2)}.trail-visual-relation .setting-item-control input[type=text],.trail-depth-input{width:80px}.trail-icon-preview{display:flex;align-items:center;justify-content:center;width:24px;height:24px;margin-right:8px;border-radius:var(--radius-s);background:var(--tag-background);color:var(--tag-color)}.trail-icon-preview svg{width:14px;height:14px}.trail-icon-suggestion{display:flex;align-items:center;gap:8px;padding:4px 8px}.trail-icon-suggestion-icon{display:flex;align-items:center;justify-content:center;width:20px;height:20px;color:var(--text-muted)}.trail-icon-suggestion-icon svg{width:16px;height:16px}.trail-icon-suggestion-text{font-size:var(--font-ui-small);color:var(--text-normal)}.trail-badge-tql{background:var(--interactive-accent);color:var(--text-on-accent)}.trail-query-textarea{width:100%;min-height:120px;font-family:var(--font-monospace);font-size:var(--font-ui-small);line-height:1.5;resize:vertical}.trail-query-error{display:none;margin-top:8px;padding:8px 12px;border-radius:var(--radius-s);background:rgba(var(--color-red-rgb),.1);color:var(--text-error);font-size:var(--font-ui-small);font-family:var(--font-monospace)}.trail-query-error-visible{display:block}.trail-codemirror-container{margin-top:var(--size-4-2)}.trail-codemirror-container .cm-editor{border:1px solid var(--background-modifier-border);border-radius:var(--radius-s)}.trail-codemirror-container .cm-editor.cm-focused{border-color:var(--interactive-accent);box-shadow:0 0 0 2px rgba(var(--interactive-accent-rgb),.2)}.tql-hover-tooltip{font-size:var(--font-ui-small);max-width:400px}.tql-hover-title{font-family:var(--font-monospace);font-weight:var(--font-semibold);color:var(--text-normal);margin-bottom:var(--size-4-1)}.tql-hover-description{color:var(--text-muted);line-height:1.4}.tql-hover-section{margin-top:var(--size-4-2);padding-top:var(--size-4-2);border-top:1px solid var(--background-modifier-border)}.tql-hover-label{font-size:var(--font-ui-smaller);font-weight:var(--font-medium);color:var(--text-faint);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--size-4-1)}.tql-hover-syntax{display:block;font-family:var(--font-monospace);font-size:var(--font-ui-smaller);color:var(--text-accent);background:var(--background-secondary);padding:var(--size-4-1) var(--size-4-2);border-radius:var(--radius-s);white-space:pre-wrap;word-break:break-word}.tql-hover-examples{display:flex;flex-direction:column;gap:var(--size-2-1)}.tql-hover-example{display:block;font-family:var(--font-monospace);font-size:var(--font-ui-smaller);color:var(--text-muted);background:var(--background-secondary);padding:var(--size-2-2) var(--size-4-2);border-radius:var(--radius-s);white-space:pre-wrap;word-break:break-word}.tql-hover-extra{margin-top:var(--size-4-2);color:var(--text-faint);font-size:var(--font-ui-smaller)}.cm-completionIcon-keyword:after{content:"K";color:var(--text-accent)}.cm-completionIcon-function:after{content:"\192";color:var(--color-yellow)}.cm-completionIcon-property:after{content:"P";color:var(--color-purple)}.cm-completionIcon-variable:after{content:"V";color:var(--text-normal)}.cm-completionIcon-constant:after{content:"C";color:var(--color-orange)}.tql-keyword{color:var(--text-accent)!important;font-weight:700!important}.tql-type{color:var(--color-cyan)!important}.tql-logic{color:var(--color-pink)!important;font-style:italic!important}.tql-string{color:var(--color-green)!important}.tql-number{color:var(--color-orange)!important}.tql-atom{color:var(--color-purple)!important}.tql-operator{color:var(--text-muted)!important}.tql-function{color:var(--color-yellow)!important}.tql-property{color:var(--color-blue)!important}.tql-variable{color:var(--text-normal)!important}.tql-punctuation{color:var(--text-muted)!important}
